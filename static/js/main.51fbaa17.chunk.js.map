{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/App/App.module.css","Components/Searchbar/Searchbar.module.css","Services/api.js","Components/Searchbar/Searchbar.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/App/App.jsx","index.js"],"names":["module","exports","axios","defaults","baseURL","fetchImages","imageName","page","a","get","then","res","data","hits","Searchbar","onSubmit","className","s","SearchForm","e","preventDefault","target","elements","value","type","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","name","placeholder","ImageGallery","images","onClick","map","id","webformatURL","src","alt","modalRoot","document","querySelector","Modal","fullImg","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","currentTarget","Button","Spinner","Container","color","height","width","timeout","React","Component","App","useState","setImageName","setImages","reqStatus","setReqStatus","setPage","showModal","setShowModal","setFullImg","onScroll","ulEl","scrollTo","top","scrollHeight","behavior","onFetchImages","prev","setTimeout","console","error","getImages","isLoading","showImagesGallery","length","newImage","bigImg","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.51fbaa17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3gIoy\",\"Modal\":\"Modal_Modal__1Gikp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1KFJ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2yh4Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__3IuHh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1Z3s-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__pf1sb\",\"SearchForm\":\"Searchbar_SearchForm__2ilPW\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__Xr-Jj\",\"SearchForm-button\":\"Searchbar_SearchForm-button__11_h8\",\"SearchFormBtnLabel\":\"Searchbar_SearchFormBtnLabel__wx42F\",\"SearchFormInput\":\"Searchbar_SearchFormInput__15bKG\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst YOUR_ACCESS_KEY = '21772018-ea8d686ef9c180e6d9f46e4e4';\n\nexport const fetchImages = async (imageName, page) => {\n    return await axios.get(`?q=${imageName}&page=${page}&key=${YOUR_ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(res => {\n        return res.data.hits\n    })\n}\n","import React from 'react';\nimport s from '../Searchbar/Searchbar.module.css';\n\nconst Searchbar = ({onSubmit}) => {\n    return (\n        <header className={s.Searchbar}>\n            <form className={s.SearchForm} onSubmit={e => {\n                e.preventDefault();\n                onSubmit(e.target.elements.imageName.value)\n            }}>\n                <button type=\"submit\" className={s.SearchFormBtn}>\n                    <span className={s.SearchFormBtnLabel}>Search</span>\n                </button>\n\n                <input\n                className={s.SearchFormInput}\n                type=\"text\"\n                name=\"imageName\"\n                placeholder=\"Search images and photos\"\n                />\n            </form>\n        </header>\n    )\n}\nexport default Searchbar;\n","import React from 'react';\nimport s from '../ImageGallery/ImageGallery.module.css';\n\nfunction ImageGallery ({images, onClick}) {\n    return (\n    <ul className={s.ImageGallery}>\n        {images.map(({id, webformatURL}) => (\n            <li key={id}><img src={webformatURL} alt=\"\" onClick={(e => {\n                e.preventDefault()\n                onClick(webformatURL);\n            })}/></li>\n        ))}\n    </ul>\n    )\n    \n}\nexport default ImageGallery;","import {useEffect} from 'react';\nimport s from '../Modal/Modal.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({fullImg, onClick}) {\n    useEffect(() => {\n        const handleKeyDown = e => {\n            if (e.code === 'Escape') {\n                onClick();\n            }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [onClick]);\n   \n    const handleOverlayClick = e => {\n        if (e.target === e.currentTarget) {\n            onClick();\n        }\n    }\n    \n    return createPortal(\n        <div className={s.Overlay} onClick={handleOverlayClick} >\n            <div className={s.Modal} onClick={onClick}>\n                <img src={fullImg} alt=\"\" />\n            </div>\n        </div>,\n        modalRoot,\n    )\n    \n}\n\nexport default Modal;","import React from 'react';\nimport s from '../Button/Button.module.css';\n\nconst Button = ({onClick}) => {\n    return (\n        <button className={s.Button} onClick={onClick} id='loadmore'>Load More</button>\n    )\n}\n\nexport default Button;","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from '../Loader/Loader.module.css';\n\nclass Spinner extends React.Component {\n  render() {\n    return (\n        <div className={s.Container}>\n            <Loader\n                type=\"Grid\"\n                color=\"#00BFFF\"\n                height={50}\n                width={50}\n                timeout={3000}\n            />\n      </div>\n    );\n  }\n}\nexport default Spinner;","import {useState, useEffect} from 'react';\nimport { fetchImages } from '../../Services/api';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Modal from '../Modal/Modal';\nimport Button from '../Button/Button';\nimport Spinner from '../Loader/Loader';\n\nimport s from '../App/App.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nfunction App() {\n    const [imageName, setImageName] = useState(null);\n    const [images, setImages] = useState([]);\n    const [reqStatus, setReqStatus] = useState('idle');\n    const [page, setPage] = useState(1);\n    const [showModal, setShowModal] = useState(false);\n    const [fullImg, setFullImg] = useState(null);\n\n   \n    const onHandleSubmit = newImage => {\n        setImageName(newImage);\n        setPage(1);\n        setImages([]);\n    };\n    \n    const toggleModal = bigImg => {\n        setShowModal(!showModal);\n        setFullImg(bigImg)\n    };\n   \n    const onCloseModal = () => {\n        setShowModal(false)\n        setFullImg(null)\n    };\n\n    const onScroll = () => {\n        const ulEl = document.querySelector('ul');\n        window.scrollTo({\n            top: ulEl.scrollHeight,\n            behavior: 'smooth',\n        })\n    };\n\n    const pageIncrement = () => {\n        setPage(prevState => prevState + 1)\n    };\n\n    useEffect(() => {\n        if (imageName === null) return;\n        setReqStatus('pending');\n        async function getImages () {\n            try {\n                const onFetchImages = await fetchImages(imageName, page).then(setReqStatus('resolve'))\n                if (page > 1) {\n                    setImages(prev => [...prev, ...onFetchImages]);\n                    setTimeout(()=> {\n                        onScroll();\n                    }, 500)\n                    return;\n                }\n                setImages(onFetchImages);\n                \n            } catch (error) {\n                console.error('Ошибка!')\n            }\n        }\n        getImages();\n    }, [imageName, page]);\n\n    const isLoading = reqStatus === 'pending';\n    const showImagesGallery = images.length > 1 && !isLoading;\n    \n    return (\n        <div className={s.App}>\n            {showModal && <Modal fullImg={fullImg} onClick={onCloseModal} />}\n            <Searchbar onSubmit={onHandleSubmit} />\n            {reqStatus === 'pending' && <Spinner />}\n            {showImagesGallery && <ImageGallery images={images} onClick={toggleModal} />}\n            {showImagesGallery && <Button onClick={pageIncrement} />}\n        </div>\n    )\n    \n\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}