(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3gIoy",Modal:"Modal_Modal__1Gikp"}},23:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__1KFJ8"}},24:function(e,t,n){e.exports={Button:"Button_Button__2yh4Q"}},28:function(e,t,n){e.exports={Container:"Loader_Container__3IuHh"}},29:function(e,t,n){e.exports={App:"App_App__1Z3s-"}},36:function(e,t,n){},6:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__pf1sb",SearchForm:"Searchbar_SearchForm__2ilPW",SearchFormBtn:"Searchbar_SearchFormBtn__Xr-Jj","SearchForm-button":"Searchbar_SearchForm-button__11_h8",SearchFormBtnLabel:"Searchbar_SearchFormBtnLabel__wx42F",SearchFormInput:"Searchbar_SearchFormInput__15bKG"}},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(36),n(5)),u=n.n(i),s=n(14),l=n(10),b=n(4),h=n(12),j=n.n(h);j.a.defaults.baseURL="https://pixabay.com/api/";var m=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("?q=".concat(t,"&page=").concat(n,"&key=").concat("21772018-ea8d686ef9c180e6d9f46e4e4","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=n(6),f=n.n(p),d=n(1),O=function(e){var t=e.onSubmit;return Object(d.jsx)("header",{className:f.a.Searchbar,children:Object(d.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value)},children:[Object(d.jsx)("button",{type:"submit",className:f.a.SearchFormBtn,children:Object(d.jsx)("span",{className:f.a.SearchFormBtnLabel,children:"Search"})}),Object(d.jsx)("input",{className:f.a.SearchFormInput,type:"text",name:"imageName",placeholder:"Search images and photos"})]})})},_=n(23),v=n.n(_);var x=function(e){var t=e.images,n=e.onClick;return Object(d.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL;return Object(d.jsx)("li",{children:Object(d.jsx)("img",{src:a,alt:"",onClick:function(e){e.preventDefault(),n(a)}})},t)}))})},S=n(13),g=n.n(S),y=document.querySelector("#modal-root");var k=function(e){var t=e.fullImg,n=e.onClick;return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),Object(c.createPortal)(Object(d.jsx)("div",{className:g.a.Overlay,onClick:function(e){e.target===e.currentTarget&&n()},children:Object(d.jsx)("div",{className:g.a.Modal,onClick:n,children:Object(d.jsx)("img",{src:t,alt:""})})}),y)},w=n(24),F=n.n(w),C=function(e){var t=e.onClick;return Object(d.jsx)("button",{className:F.a.Button,onClick:t,id:"loadmore",children:"Load More"})},N=n(25),B=n(26),I=n(31),L=n(30),G=n(27),M=n.n(G),E=(n(77),n(28)),A=n.n(E),J=function(e){Object(I.a)(n,e);var t=Object(L.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){return Object(d.jsx)("div",{className:A.a.Container,children:Object(d.jsx)(M.a,{type:"Grid",color:"#00BFFF",height:50,width:50,timeout:3e3})})}}]),n}(r.a.Component),q=n(29),T=n.n(q);n(78);var D=function(){var e=Object(a.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(b.a)(c,2),i=o[0],h=o[1],j=Object(a.useState)("idle"),p=Object(b.a)(j,2),f=p[0],_=p[1],v=Object(a.useState)(1),S=Object(b.a)(v,2),g=S[0],y=S[1],w=Object(a.useState)(!1),F=Object(b.a)(w,2),N=F[0],B=F[1],I=Object(a.useState)(null),L=Object(b.a)(I,2),G=L[0],M=L[1],E=function(){var e=document.querySelector("ul");window.scrollTo({top:e.scrollHeight,behavior:"smooth"})};Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(n,g).then(_("resolve"));case 3:if(t=e.sent,!(g>1)){e.next=8;break}return h((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),setTimeout((function(){E()}),500),e.abrupt("return");case 8:h(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("\u041e\u0448\u0438\u0431\u043a\u0430!");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}null!==n&&(_("pending"),function(){e.apply(this,arguments)}())}),[n,g]);var A="pending"===f,q=i.length>1&&!A;return Object(d.jsxs)("div",{className:T.a.App,children:[N&&Object(d.jsx)(k,{fullImg:G,onClick:function(){B(!1),M(null)}}),Object(d.jsx)(O,{onSubmit:function(e){r(e),y(1),h([])}}),"pending"===f&&Object(d.jsx)(J,{}),q&&Object(d.jsx)(x,{images:i,onClick:function(e){B(!N),M(e)}}),q&&Object(d.jsx)(C,{onClick:function(){y((function(e){return e+1}))}})]})};o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(D,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.79046301.chunk.js.map